{"version":3,"sources":["js/gallery-items.js","js/index.js"],"names":["preview","original","description","refs","galleryContainer","document","querySelector","modalRef","modalImgRef","modalCloseBtn","modalOverlay","imagesMarkup","createGalleryList","images","map","join","onModalOpen","e","preventDefault","target","nodeName","classList","add","setModalImageAttributes","window","addEventListener","onModalClose","toggleImages","dataset","action","contains","code","remove","removeEventListener","setImgAttributes","source","alt","src","currentImg","currentIndex","nextImg","prevImg","forEach","item","index","originalImg","length","insertAdjacentHTML"],"mappings":"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","file":"js.4cf8ea4a.js","sourceRoot":"..\\src","sourcesContent":["export default [\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\r\n    description: 'Hokkaido Flower',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\r\n    description: 'Container Haulage Freight',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\r\n    description: 'Aerial Beach View',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\r\n    description: 'Flower Blooms',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n    description: 'Alpine Mountains',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\r\n    description: 'Mountain Lake Sailing',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\r\n    description: 'Alpine Spring Meadows',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n    description: 'Nature Landscape',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\r\n    description: 'Lighthouse Coast Sea',\r\n  },\r\n];\r\n","import images from '../js/gallery-items.js';\r\n\r\nconst refs = {\r\n  galleryContainer: document.querySelector('.js-gallery'),\r\n  modalRef: document.querySelector('.js-lightbox'),\r\n  modalImgRef: document.querySelector('.lightbox__image'),\r\n  modalCloseBtn: document.querySelector('.lightbox__button'),\r\n  modalOverlay: document.querySelector('.lightbox__overlay'),\r\n};\r\n\r\nconst imagesMarkup = createGalleryList(images);\r\n\r\nrefs.galleryContainer.insertAdjacentHTML('afterbegin', imagesMarkup);\r\n\r\nrefs.galleryContainer.addEventListener('click', onModalOpen);\r\n\r\nrefs.modalCloseBtn.addEventListener('click', onModalClose);\r\n\r\nrefs.modalOverlay.addEventListener('click', onModalClose);\r\n\r\nfunction createGalleryList(images) {\r\n  return images\r\n    .map(({ preview, original, description }) => {\r\n      return `<li class=\"gallery__item\">\r\n  <a\r\n    class=\"gallery__link\"\r\n    href=${original}\r\n  >\r\n    <img\r\n      class=\"gallery__image\"\r\n      src=${preview}\r\n      data-source=${original}\r\n      alt=${description}\r\n    />\r\n  </a>\r\n</li>`;\r\n    })\r\n    .join('');\r\n}\r\n\r\nfunction onModalOpen(e) {\r\n  e.preventDefault();\r\n\r\n  if (e.target.nodeName !== 'IMG') {\r\n    return;\r\n  }\r\n  refs.modalRef.classList.add('is-open');\r\n\r\n  setModalImageAttributes(e);\r\n\r\n  window.addEventListener('keydown', onModalClose);\r\n\r\n  window.addEventListener('keydown', toggleImages);\r\n}\r\n\r\nfunction onModalClose(e) {\r\n  if (\r\n    e.target.dataset.action !== 'close-lightbox' &&\r\n    !e.target.classList.contains('lightbox__overlay') &&\r\n    e.code !== 'Escape'\r\n  ) {\r\n    return;\r\n  }\r\n\r\n  refs.modalRef.classList.remove('is-open');\r\n\r\n  setModalImageAttributes(e);\r\n  window.removeEventListener('keydown', onModalClose);\r\n\r\n  window.removeEventListener('keydown', toggleImages);\r\n}\r\n\r\nfunction setModalImageAttributes(e) {\r\n  if (refs.modalRef.classList.contains('is-open')) {\r\n    setImgAttributes(e.target.dataset.source, e.target.alt);\r\n  } else {\r\n    setImgAttributes('', '');\r\n  }\r\n}\r\n\r\nfunction setImgAttributes(src, alt) {\r\n  refs.modalImgRef.src = src;\r\n  refs.modalImgRef.alt = alt;\r\n}\r\n\r\nfunction toggleImages(e) {\r\n  let currentImg = refs.modalImgRef.src;\r\n  let currentIndex = 0;\r\n  const nextImg = e.code === 'ArrowRight';\r\n  const prevImg = e.code === 'ArrowLeft';\r\n\r\n  images.forEach((item, index) => {\r\n    const originalImg = item.original;\r\n    if (currentImg === originalImg) {\r\n      currentIndex = index;\r\n    }\r\n  });\r\n\r\n  if (nextImg && currentIndex < images.length - 1) {\r\n    currentIndex += 1;\r\n    setImgAttributes(\r\n      images[currentIndex].original,\r\n      images[currentIndex].description,\r\n    );\r\n    return;\r\n  }\r\n  if (nextImg && currentIndex === images.length - 1) {\r\n    currentIndex = 0;\r\n    setImgAttributes(\r\n      images[currentIndex].original,\r\n      images[currentIndex].description,\r\n    );\r\n    return;\r\n  }\r\n  if (prevImg && currentIndex > 0) {\r\n    currentIndex -= 1;\r\n    setImgAttributes(\r\n      images[currentIndex].original,\r\n      images[currentIndex].description,\r\n    );\r\n    return;\r\n  }\r\n  if (prevImg && currentIndex === 0) {\r\n    currentIndex = images.length - 1;\r\n    setImgAttributes(\r\n      images[currentIndex].original,\r\n      images[currentIndex].description,\r\n    );\r\n    return;\r\n  }\r\n}\r\n"]}